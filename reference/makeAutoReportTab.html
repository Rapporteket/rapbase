<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Make a table to be rendered in a shiny app providing automated reports
from a given user or registry as obtained from the shiny session
object provided or environmental variables when run inside an app container."><title>Make table of automated reports — makeAutoReportTab • rapbase</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make table of automated reports — makeAutoReportTab"><meta property="og:description" content="Make a table to be rendered in a shiny app providing automated reports
from a given user or registry as obtained from the shiny session
object provided or environmental variables when run inside an app container."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rapbase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.24.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/stagingData.html">Staging data: principles and set-up</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Rapporteket/rapbase/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Make table of automated reports</h1>
      <small class="dont-index">Source: <a href="https://github.com/Rapporteket/rapbase/blob/HEAD/R/autoReport.R" class="external-link"><code>R/autoReport.R</code></a></small>
      <div class="d-none name"><code>makeAutoReportTab.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Make a table to be rendered in a shiny app providing automated reports
from a given user or registry as obtained from the shiny session
object provided or environmental variables when run inside an app container.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">makeAutoReportTab</span><span class="op">(</span></span>
<span>  <span class="va">session</span>,</span>
<span>  namespace <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  user <span class="op">=</span> <span class="fu">rapbase</span><span class="fu">::</span><span class="fu"><a href="userAttribute.html">getUserName</a></span><span class="op">(</span><span class="va">session</span><span class="op">)</span>,</span>
<span>  group <span class="op">=</span> <span class="fu">rapbase</span><span class="fu">::</span><span class="fu"><a href="userAttribute.html">getUserGroups</a></span><span class="op">(</span><span class="va">session</span><span class="op">)</span>,</span>
<span>  orgId <span class="op">=</span> <span class="fu">rapbase</span><span class="fu">::</span><span class="fu"><a href="userAttribute.html">getUserReshId</a></span><span class="op">(</span><span class="va">session</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"subscription"</span>,</span>
<span>  mapOrgId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeReportId <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>session</dt>
<dd><p>A shiny session object</p></dd>


<dt>namespace</dt>
<dd><p>String naming namespace. Defaults to <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> in
which case no namespace will be created. When this function is used by
shiny modules namespace must be provided.</p></dd>


<dt>user</dt>
<dd><p>Character string providing the username. Introduced as a new
argument when running apps inside containers. Default value is set to
<code>rapbase::getUserName(session)</code> to allow backward compatibility.</p></dd>


<dt>group</dt>
<dd><p>Character string defining the registry, normally corresponding
to the R package name and the value stemming from the SHINYPROXY_GROUPS
environment variable. Introduced as a new argument when running apps inside
containers. Default value is set to <code>rapbase::getUserGroups(session)</code>
to allow backward compatibility.</p></dd>


<dt>orgId</dt>
<dd><p>Character string or integer defining the organization (id) for
<code>user</code>. Default value is set to <code>rapbase::getUserReshId(session)</code>
to allow backward compatibility.</p></dd>


<dt>type</dt>
<dd><p>Character string defining the type of auto reports to tabulate.
Must be one of <code>"subscription"</code>, <code>"dispatchment"</code> or
<code>"bulletin"</code>. Default value set to <code>"subscription"</code>.</p></dd>


<dt>mapOrgId</dt>
<dd><p>Data frame containing the two columns 'name' and 'id'
corresponding to unique name and id of organizations. Default is NULL in
which case the ids provided in auto report data will be used. In case
mapOrgId is not NULL but no id match is found the id found in the auto
report data will also be used</p></dd>


<dt>includeReportId</dt>
<dd><p>Logical if the unique report id should be added as
the last column in the table. FALSE by default.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Matrix providing a table to be rendered in a shiny app</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each table record (line) represents a uniquely defined automated report.
For each line two shiny action buttons are provided to allow
for editing and deleting of each entry. For applications
implementing this table observing events on these action buttons may be used
to allow users to manage automated reports by GUI. The
action buttons for editing and deleting are provided with the static input
ids <em>edit_button</em> and <em>del_button</em> and upon clicking the
<em>button</em> part of their ids will change to the unique id of the
report. Hence, a GUI call for editing a report can be caught by
<code>shiny::observeEvent("edit_button")</code> and within this event the
report id is obtained by collecting the string after the double underscore,
<em>e.g.</em> <code>strsplit(input$edit_button, "__")[[1]][2]</code>.</p>
<p>Optionally, report id may be provided as the last column in the table to
allow further development for registry specific purposes. Regardless, this
column should normally be hidden in the GUI.</p>
<p>Take a look at the
<a href="https://github.com/Rapporteket/rapRegTemplate/blob/main/inst/shinyApps/app1/server.R" class="external-link">example shiny server function in rapRegTemplate</a>
on how this function may be implemented.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Are Edvardsen, Kevin Otto Thon.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

