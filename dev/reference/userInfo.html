<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Provide user attributes based on environment context — userInfo • rapbase</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Provide user attributes based on environment context — userInfo"><meta name="description" content="Extracts elements from either config, url (shiny), shiny session or
environmental variables relevant for user data such as name, group, role and
org id (e.g. resh id). Source of info is based on environment context
and can be controlled by altering the default settings for which contexts
that will apply for the various sources of user data. This function will
normally be used via its helper functions (see below)."><meta property="og:description" content="Extracts elements from either config, url (shiny), shiny session or
environmental variables relevant for user data such as name, group, role and
org id (e.g. resh id). Source of info is based on environment context
and can be controlled by altering the default settings for which contexts
that will apply for the various sources of user data. This function will
normally be used via its helper functions (see below)."><meta property="og:image" content="/logo.svg"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rapbase</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Rapporteket/rapbase/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Provide user attributes based on environment context</h1>
      <small class="dont-index">Source: <a href="https://github.com/Rapporteket/rapbase/blob/main/R/userAttribute.R" class="external-link"><code>R/userAttribute.R</code></a></small>
      <div class="d-none name"><code>userInfo.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extracts elements from either config, url (shiny), shiny session or
environmental variables relevant for user data such as name, group, role and
org id (<em>e.g.</em> resh id). Source of info is based on environment context
and can be controlled by altering the default settings for which contexts
that will apply for the various sources of user data. This function will
normally be used via its helper functions (see below).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">userInfo</span><span class="op">(</span></span>
<span>  <span class="va">entity</span>,</span>
<span>  shinySession <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  devContexts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEV"</span><span class="op">)</span>,</span>
<span>  testContexts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TEST"</span><span class="op">)</span>,</span>
<span>  prodContexts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"QA"</span>, <span class="st">"QAC"</span>, <span class="st">"PRODUCTION"</span>, <span class="st">"PRODUCTIONC"</span><span class="op">)</span>,</span>
<span>  group <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-entity">entity<a class="anchor" aria-label="anchor" href="#arg-entity"></a></dt>
<dd><p>String defining the element to return. Currently, one of
'user', groups', 'resh_id', 'role', 'email', 'full_name' or 'phone'.</p></dd>


<dt id="arg-shinysession">shinySession<a class="anchor" aria-label="anchor" href="#arg-shinysession"></a></dt>
<dd><p>Shiny session object (list, NULL by default). Must be
provided when the source of user attributes is either the shiny app url or
an external authentication provider. By default this will apply to the
'TEST', 'QA' and 'PRODUCTION' contexts in which case the shiny session
object must be provided.</p></dd>


<dt id="arg-devcontexts">devContexts<a class="anchor" aria-label="anchor" href="#arg-devcontexts"></a></dt>
<dd><p>A character vector providing unique instances to be
regarded as a development context. In this context user attributes will be
read from configuration as provided by 'rapbaseConfig.yml'. The instances
provided cannot overlap instances provided in any other contexts. By
default set to <code>c("DEV")</code>.</p></dd>


<dt id="arg-testcontexts">testContexts<a class="anchor" aria-label="anchor" href="#arg-testcontexts"></a></dt>
<dd><p>A character vector providing unique instances to be
regarded as a test context. In this context user attributes will be read
from the url call to a shiny application. Hence, for this context the
corresponding shiny session object must also be provided. The instances
provided cannot overlap instances provided in any other contexts. By
default set to <code>c("TEST")</code>.</p></dd>


<dt id="arg-prodcontexts">prodContexts<a class="anchor" aria-label="anchor" href="#arg-prodcontexts"></a></dt>
<dd><p>A character vector providing unique instances to be
regarded as a production context. In this context user attributes will be
read from the shiny session object (on deployment in shiny-server) or, from
environmental variables (on standalone container deployment). Hence, for
this context the corresponding shiny session object must also be provided.
Instances provided cannot overlap instances in any other contexts. By
default set to <code>c("QA", "QAC", "PRODUCTION", "PRODUCTIONC")</code>.
Duplication as seen by the "C" suffix will be needed as long as apps in
question are to be run on both shiny-server and as standalone containers.</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Character string providing the name of the app R package name.
The term "group" is used to relate to the environmental variable
SHINYPROXY_USERGROUPS that corresponds to the apps a given user can access.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>String of single user data element</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="userAttribute.html">getUserName</a></code>, <code><a href="userAttribute.html">getUserGroups</a></code>,
  <code><a href="userAttribute.html">getUserReshId</a></code>, <code><a href="userAttribute.html">getUserRole</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Are Edvardsen, Kevin Otto Thon, Arnfinn Hykkerud Steindal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

